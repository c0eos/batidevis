generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:../Entrep.db"
}

model User {
  id       Int    @id @default(autoincrement())
  email    String @unique
  password String
}

model Client {
  id            Int      @id @default(autoincrement())
  code          String   @unique
  nom           String
  civilite      String?
  interlocuteur String?
  adresse       String?
  adresse2      String?
  codePostal    String?
  ville         String?
  pays          String?  @default("France")
  telephone     String?
  portable      String?
  fax           String?
  email         String?
  compte        String
  info          String?
  ca            Float    @default(0.0)
  solde         Float    @default(0.0)
  updated       DateTime @default(now())
  Devis         Devis[]
}

model Devis {
  id              Int      @id @default(autoincrement())
  code            String   @unique
  etat            Int      @default(0)
  date            DateTime @default(now())
  codeClient      String
  client          Client   @relation(fields: [codeClient], references: [code])
  sujet           String?
  adresseTravaux  String?
  adresseTravaux2 String?
  cpTravaux       String?
  villeTravaux    String?
  info            String?
  totalDeb        Float    @default(0.0)
  totalPR         Float    @default(0.0)
  totalPV         Float    @default(0.0)
  totalHT         Float    @default(0.0)
  totalHTNet      Float    @default(0.0)
  flagEscompte    Boolean  @default(false)
  HTNetFin        Float    @default(0.0)
  totalTVA        Float    @default(0.0)
  TVAReelle       Float    @default(0.0)
  totalTTC        Float    @default(0.0)
  acompte         Float    @default(0.0)
  netAPayer       Float    @default(0.0)
  variante        Float    @default(0.0)
  taux1           Float    @default(0.0)
  taux2           Float    @default(0.0)
  taux3           Float    @default(0.0)
  taux4           Float    @default(0.0)
  taux5           Float    @default(0.0)
  ht0             Float    @default(0.0)
  ht1             Float    @default(0.0)
  ht2             Float    @default(0.0)
  ht3             Float    @default(0.0)
  ht4             Float    @default(0.0)
  ht5             Float    @default(0.0)
  htnet0          Float    @default(0.0)
  htnet1          Float    @default(0.0)
  htnet2          Float    @default(0.0)
  htnet3          Float    @default(0.0)
  htnet4          Float    @default(0.0)
  htnet5          Float    @default(0.0)
  tva0            Float    @default(0.0)
  tva1            Float    @default(0.0)
  tva2            Float    @default(0.0)
  tva3            Float    @default(0.0)
  tva4            Float    @default(0.0)
  tva5            Float    @default(0.0)
  temps           Float    @default(0.0)
  transFacture    Boolean  @default(false)
  flagAcompte     Boolean  @default(false)
}
